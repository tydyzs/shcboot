<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf8"/>
<title>材质与光</title>
</head>

<script type="text/javascript" src="../js/jquery-1.7.1.js"></script>
<script type="text/javascript" src="../js/Stats.js"></script>
<script type="text/javascript" src="../js/three.js"></script>
<script type="text/javascript" src="../js/tween.min.js"></script>
	<style type="text/css">
			div#canvas-frame {
				border: none;
				cursor: pointer;
				width: 100%;
				height: 600px;
				background-color: #EEEEEE;
			}

		</style>
 <body>
        <div id="canvas-frame"></div>
    </body>
<script type="text/javascript">
//三大组件
$(function(){
	   initThree(); //初始化渲染器
       initCamera();//初始化照相机
       initScene(); //初始化场景
       initLight(); //初始化光
       initObject();//新建物体并放入场景中
      animation();
})
var renderer;
function initThree() {//渲染器
    width = document.getElementById('canvas-frame').clientWidth;
    height = document.getElementById('canvas-frame').clientHeight;
    renderer = new THREE.WebGLRenderer({
        antialias : true
    });
    renderer.setSize(width, height);
    document.getElementById('canvas-frame').appendChild(renderer.domElement);
    renderer.setClearColor(0xFFFFFF, 1.0);
}

var camera;
function initCamera() {//照相机
    camera = new THREE.PerspectiveCamera(45, width / height, 1, 10000);
    camera.position.x = 600;
    camera.position.y = 0;
    camera.position.z = 600;
    camera.up.x = 0;
    camera.up.y = 1;
    camera.up.z = 0;
    camera.lookAt({
        x : 0,
        y : 0,
        z : 0
    });
}

var scene;
function initScene() {//场景
    scene = new THREE.Scene();
}

var light;
function initLight() {//光
	//1.环境光
			/*  light = new THREE.AmbientLight(0x990000);//a.光的颜色
		     light.position.set(100, 100, 200); */
	/*  //2.平行光
		 // 第二个参数是光源强度，你可以改变它试一下
	      light = new THREE.DirectionalLight(0xFF0000,1);
	      // 位置不同，方向光作用于物体的面也不同，看到的物体各个面的颜色也不一样
	      light.position.set(0,0,1); 
          scene.add(light);
     
	     //再添加一个光源
	     light1 = new THREE.DirectionalLight(0x00FF00,1);
	     light1.position.set(1,0,0); 
	      scene.add(light1);
	      
	      //环境光
	      light3 = new THREE.AmbientLight(0x00FF00);//a.光的颜色
		  light3.position.set(100, 100, 200);
		  scene.add(light3); */
		  
		  //点光源
		  light4 = new THREE.PointLight(0xFF0000);
		  light4.position.set(0,0,50);
		  scene.add(light4);
}

var cube;
function initObject() {
    var geometry = new THREE.CubeGeometry( 200, 100, 50,4,4);
    var material = new THREE.MeshLambertMaterial( { color:0xFFFFFF} );//物体的颜色
    var mesh = new THREE.Mesh( geometry,material);
    mesh.position = new THREE.Vector3(0,0,0);
    scene.add(mesh);
    
    //再添加几个物体
    var mesh2 = new THREE.Mesh( geometry,material);
    mesh2.position.set(0,150,0);
    scene.add(mesh2);
    var mesh3 = new THREE.Mesh( geometry,material);
    mesh3.position.set(-300,0,0);
    scene.add(mesh3);
    var mesh4 = new THREE.Mesh( geometry,material);
    mesh4.position.set(150,-50,0);
    scene.add(mesh4);
}

function animation()
{
	 renderer.clear();
    renderer.render(scene, camera);
}
</script>
</html>