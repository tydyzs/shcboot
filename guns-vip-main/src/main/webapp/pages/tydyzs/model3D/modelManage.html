@layout("/common/_container.html",{js:[],css:[]}){
<script src="${ctxPath}/assets/expand/plugins/jquery/jquery-3.2.1.min.js?v=${constants.getReleaseVersion()}"></script>
<div class="layui-body-header">
    <span class="layui-body-header-title">模型管理</span>
</div>
<style>
    .layui-table-cell{
        height:35.5px;
        line-height: 35.5px;
    }
</style>
<script type="text/javascript">
    //表格值重构
    function restructureValue(data,key){
        //console.log(data)
        var str="";
        /*var value=data[key];
        if(key=="genderValue"){
            if(value=="男"){
                str='<p  style="font-size:18px; color:#0000ff;">'+value+'</p>';
            }else{
                str='<p style="font-size:18px; color:#ff0000;">'+value+'</p>';
            }
        }else if(key=='roomValue'||key=='vehicleValue'){
            if(value=="有"){
                str='<p style="font-size:18px; color:#0a0;">'+value+'</p>';
            }else{
                str='<p style="font-size:18px; color:#aaa;">'+value+'</p>';
            }
        }else if(key=='photo'){
            var fileId=data.fileId;
            if(!checkNull(fileId)){
                var url=Feng.ctxPath + '/myFileInfo/getFile?fileId='+fileId;
                return '<img width="50px;" height="50px;"   src="'+url+'">';
            }
        }else if(key=='index'){
           str = data.LAY_INDEX;
        }*/
        return str;
    }
</script>
<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-sm12 layui-col-md12 layui-col-lg12">
            <div class="layui-card">
                <div class="layui-card-body">
                    <div class="layui-form toolbar" >
                        <div class="layui-row" >
                            <div id="xzqyDl" class="filter-section" style="height:40px;">
                                <dl class="clear addClick">
                                    <dt class="left">模&nbsp;型&nbsp;类&nbsp;型：</dt>
                                    <div style="width:100%;" id="modelType">
                                        <dd class="active left mr20" value="">全部</dd>
                                    </div>
                                </dl>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <input id="condition" class="layui-input" type="text" style="width:200px;" placeholder="请输入模型名称或备注..."/>
                            </div>
                            <div class="layui-inline">
                                <button id="btnSearch" class="layui-btn icon-btn" onclick="search()"><i class="layui-icon">&#xe615;</i>搜索</button>
                                <button id="btnAdd" class="layui-btn icon-btn"><i class="layui-icon">&#xe654;</i>新增</button>
                            </div>
                        </div>
                    </div>
                    <table class="layui-table" id="egFormTable"  lay-data="{url:'${ctxPath}/model/list',page: true,height: 'full-240',cellMinWidth: 40}" lay-filter="egFormTable" >
                        <thead>
                            <tr>
                                <th lay-data="{field: 'index',width:100,templet:function (d){return restructureValue(d,'index');} }">序号</th>
                                <th lay-data="{field: 'name', align: 'center'}">模型名称</th>
                                <th lay-data="{field: 'genderValue', sort: true, align: 'center',templet:function (d){return restructureValue(d,'genderValue');} }">模型类型</th>
                                <th lay-data="{field: 'createDate', align: 'center', templet:'<div>{{ layui.util.toDateString(d.createDate,&quot;yyyy-MM-dd&quot;) }}</div>'}">登记日期</th>
                                <th lay-data="{align: 'center', toolbar: '#tableBar'}">操作</th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/html" id="tableBar">
    <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="view">查看</a>
    <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="delete">删除</a>
</script>
@}
<script type="text/javascript" src="/pages/tydyzs/model3D/js/modelManage.js"></script>
<script type="text/javascript">
    $(function(){
    })
</script>